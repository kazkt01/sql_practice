<!doctype html>
<meta charset="utf-8">
<title>SQL Minimal (MySQL)</title>
<style>
  body{font-family:system-ui,-apple-system,"Segoe UI",Roboto;margin:2rem}
  textarea{width:100%;height:10rem;font-family:ui-monospace,Menlo,Consolas,monospace}
  table{border-collapse:collapse;width:100%;margin-top:1rem}
  th,td{border:1px solid #ddd;padding:.5rem;font-size:14px;text-align:left}
  th{background:#fafafa}
  .error{color:#b00020;margin-top:.5rem}
</style>

<h1>SQL Minimal (MySQL)</h1>
<form method="post" action="/query">
  <textarea name="sql">{{ sql }}</textarea>
  <p><button>実行</button></p>
</form>

{% if error %}<div class="error">エラー: {{ error }}</div>{% endif %}
{% if cols %}
<h2>結果</h2>
<table>
  <thead><tr>{% for c in cols %}<th>{{ c }}</th>{% endfor %}</tr></thead>
  <tbody>
    {% for r in rows %}<tr>{% for v in r %}<td>{{ v }}</td>{% endfor %}</tr>{% endfor %}
  </tbody>
</table>
{% endif %}
